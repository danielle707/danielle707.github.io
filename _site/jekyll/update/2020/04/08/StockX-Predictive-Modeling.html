<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>StockX Price Premium Preditive Analysis | Your awesome title</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="StockX Price Premium Preditive Analysis" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="http://localhost:4000/jekyll/update/2020/04/08/StockX-Predictive-Modeling.html" />
<meta property="og:url" content="http://localhost:4000/jekyll/update/2020/04/08/StockX-Predictive-Modeling.html" />
<meta property="og:site_name" content="Your awesome title" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-04-08T08:42:17-04:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"StockX Price Premium Preditive Analysis","dateModified":"2020-04-08T08:42:17-04:00","datePublished":"2020-04-08T08:42:17-04:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/jekyll/update/2020/04/08/StockX-Predictive-Modeling.html"},"url":"http://localhost:4000/jekyll/update/2020/04/08/StockX-Predictive-Modeling.html","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Your awesome title" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Your awesome title</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">StockX Price Premium Preditive Analysis</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-04-08T08:42:17-04:00" itemprop="datePublished">Apr 8, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><img src="/assets/images/banner.png" alt="banner" /></p>

<h4 align="center">Use Machine Learning to learn undervalued sneakers.</h4>

<h2 id="project-overview">PROJECT OVERVIEW</h2>

<ul>
  <li>
    <p><strong>ABSTRACT</strong>: This project aims to investigate the features behind resale premiums on <a href="https://stockx.com/sneakers">StockX</a> and their prediction power by conduct feature engineering and utilize external popularity index on different brands</p>
  </li>
  <li><strong>ASSUMPTION</strong>: Hot sneakers presents little seaonalities, and in this project we will not discuss time series analysis.</li>
  <li><strong>DATA</strong>: <a href="https://s3.amazonaws.com/stockx-sneaker-analysis/wp-content/uploads/2019/02/StockX-Data-Contest-2019-3.xlsx">StockX Data Challenge 2019</a>; Demographic Data 2020</li>
  <li><strong>MODEL</strong>: Tree-based and Linear Regression</li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Tree-based</th>
      <th style="text-align: center">Linear</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Random Forest</td>
      <td style="text-align: center">Lasso</td>
    </tr>
    <tr>
      <td style="text-align: center">XGboost</td>
      <td style="text-align: center">SVM(Linear Kernel)</td>
    </tr>
  </tbody>
</table>

<ul>
  <li>
    <p><strong>RESULT:</strong> We have utilized our strategy and identified undervalued shoes through March 2020, and these shoes have increased their price within 80% of our prediction by the end of March 2020.</p>

    <p><em>Out-of-Sample Results:</em></p>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Sneaker Name</th>
      <th style="text-align: center">Image</th>
      <th style="text-align: center">Retail</th>
      <th style="text-align: center">Most Recent Sale</th>
      <th style="text-align: center">Current Premium</th>
      <th style="text-align: center">Predicted Premium</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><strong>Air Jordan</strong> 1 Retro High Travis Scott(<strong>Tan/Brown</strong>)</td>
      <td style="text-align: center"><img src="https://stockx-360.imgix.net/Air-Jordan-1-Retro-High-Travis-Scott/Images/Air-Jordan-1-Retro-High-Travis-Scott/Lv2/img01.jpg?auto=format,compress&amp;w=559&amp;q=90&amp;dpr=2&amp;updated_at=1550180948" width="200" /></td>
      <td style="text-align: center">$175</td>
      <td style="text-align: center">$797 - $1486</td>
      <td style="text-align: center">497.4%</td>
      <td style="text-align: center"><strong>802.0%</strong></td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>Blazer</strong> Mid 77 Vintage Slam Jam(<strong>White</strong>)</td>
      <td style="text-align: center"><img src="https://stockx-360.imgix.net/Nike-Blazer-Mid-77-Vintage-Slam-Jam/Images/Nike-Blazer-Mid-77-Vintage-Slam-Jam/Lv2/img01.jpg?auto=format,compress&amp;w=559&amp;q=90&amp;dpr=2&amp;updated_at=1554253378" width="200" /></td>
      <td style="text-align: center">$100</td>
      <td style="text-align: center">$470 - $486</td>
      <td style="text-align: center">381.0%</td>
      <td style="text-align: center"><strong>455.5%</strong></td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>Yeezy</strong> Boost 350 V2 Tail Light(<strong>Grey, Orange</strong>)</td>
      <td style="text-align: center"><img src="https://stockx-360.imgix.net/adidas-Yeezy-Boost-350-V2-Tail-Light/Images/adidas-Yeezy-Boost-350-V2-Tail-Light/Lv2/img36.jpg?auto=format,compress&amp;w=559&amp;q=90&amp;dpr=2&amp;updated_at=1584757351" width="200" /></td>
      <td style="text-align: center">$220</td>
      <td style="text-align: center">$289 - $336</td>
      <td style="text-align: center">31.8%</td>
      <td style="text-align: center"><strong>82.0%</strong></td>
    </tr>
  </tbody>
</table>

<h5 align="right">(*The price data below is based on March 26, 2020)</h5>

<h2 id="table-of-contents">Table of Contents</h2>

<ul>
  <li><a href="#motivation">Motivation</a></li>
  <li><a href="#data-source">Data Source</a></li>
  <li><a href="#exploratory-data-analysis">Exploratory Data Analysis</a>
    <ul>
      <li><a href="#anomaly-detection">Anomaly Dectection</a></li>
      <li><a href="#time-feature">Time Feature</a></li>
      <li><a href="#color-feature">Color Feature</a></li>
      <li><a href="#region-feature">Region Feature</a></li>
    </ul>
  </li>
  <li><a href="#modeling">Modeling</a>
    <ul>
      <li><a href="#feature-engineering">Feature Engineering</a></li>
      <li><a href="#model-selection">Model Selection</a></li>
      <li><a href="#result">Result</a></li>
    </ul>
  </li>
  <li><a href="#prediction-result">Prediction Result</a></li>
  <li><a href="#limitation">Limitation</a></li>
  <li><a href="#improvement">Improvement</a></li>
  <li><a href="#contributer">Contributer</a></li>
</ul>

<h2 id="motivation">Motivation</h2>

<p><img src="https://stockx-360.imgix.net/Nike-Air-Yeezy-2-Red-October/Images/Nike-Air-Yeezy-2-Red-October/Lv2/img19.jpg?auto=format,compress&amp;w=559&amp;q=90&amp;dpr=2&amp;updated_at=1538080256" width="300" /></p>

<p>The above is the famous Red Nike Yeezy. Its retail price is $250, and the latest resale price is $6,200, marked up by nearly 2400%. The high resale premium of this pair is not a single event. The once niche market of sneaker resale has grown to become a $2 billion market, and it is projected to reach $6 billion by 2025. Within the sneaker resale market, StockX is one of the largest platforms. The website operates like a stock exchange, where users can place a bidding or asking prices, and a deal is made whenever thereâ€™s a match. What is so valuable for us is that the platform offers transparent and actionable data. Using such data, we want to build a predictive model to identify undervalued sneakers, which resellers can invest in now and sell at higher price later.</p>

<h2 id="data-source">Data Source</h2>

<p>We utilized public data offered through the <a href="https://stockx.com/news/the-2019-data-contest/">StockX Data Contest</a>, which consists of 99,956 transactions from 2017 to 2019. The dataset consists of two brands â€“ Yeezy and Nike Off-White, and over 50 different styles.</p>

<p>To expand upon the features, we also manually obtained the colorway and number of sales from the StockX website. We then converted style and color into dummy variables, and sneaker size into frequency encoding as common shoe sizes are sold at higher premium. For modeling purposes, our target variable is price premium, which equals price markup over retail price, and our input variables are days since release, style, colorway, size, and number of sales.</p>

<p>Table: Initial Data Preprosessing</p>

<p><img src="/assets/images/data_source.png" alt="data_source" /></p>

<h2 id="exploratory-data-analysis">Exploratory Data Analysis</h2>

<p>Looking at price premium, we could easily observe that it is heavily skewed to the right. Most resale transactions were marked up between 0% to 500%, yet there are some extreme transactions whose markups were over 2000%. As such, we would first conduct anomaly detection to examine those points on the very high end and find common features among them.</p>

<p><img src="/assets/images/y_plot.png" width="350" /> <img src="/assets/images/volinplot.png" width="340" /></p>

<h3 id="anomaly-detection">Anomaly Detection</h3>

<p>Since the target variable is non-negative and heavily right skewed, we would take the logrithm to have more robust results in outlier detection.</p>

<ul>
  <li><strong>Step 1</strong> Train an isolation forest on target value and use decision rules to find outliers.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">model</span><span class="o">=</span><span class="n">IsolationForest</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">max_samples</span><span class="o">=</span><span class="s">'auto'</span><span class="p">,</span> <span class="n">contamination</span><span class="o">=</span> <span class="mf">0.05</span> <span class="p">,</span><span class="n">max_features</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">y</span><span class="p">[[</span><span class="s">'Pct_change'</span><span class="p">]])</span>
<span class="n">y</span><span class="p">[</span><span class="s">'scores'</span><span class="p">]</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">decision_function</span><span class="p">(</span><span class="n">y</span><span class="p">[[</span><span class="s">'Pct_change'</span><span class="p">]])</span>
<span class="n">y</span><span class="p">[</span><span class="s">'anomaly'</span><span class="p">]</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">y</span><span class="p">[[</span><span class="s">'Pct_change'</span><span class="p">]])</span>

<span class="c1">#IsolationForest(behaviour='deprecated', bootstrap=False, contamination=0.05,
#                max_features=1.0, max_samples='auto', n_estimators=100,
#                n_jobs=None, random_state=None, verbose=0, warm_start=False)
</span></code></pre></div></div>

<ul>
  <li><strong>Step 2</strong> Create anomaly lists and compare it to non-anomaly points</li>
</ul>

<p><img align="left" src="/assets/images/anomalycomp.png" /></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Metric</th>
      <th style="text-align: center">whole</th>
      <th style="text-align: center">normal</th>
      <th style="text-align: center">Anamoly</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Mean</td>
      <td style="text-align: center">1.25</td>
      <td style="text-align: center">1.03</td>
      <td style="text-align: center">5.40</td>
    </tr>
    <tr>
      <td style="text-align: center">Median</td>
      <td style="text-align: center">0.70</td>
      <td style="text-align: center">0.68</td>
      <td style="text-align: center">5.00</td>
    </tr>
  </tbody>
</table>

<p>Most anomaly points lie on the right tail of the distribution, and their cut-off (using median statistics) is approximately exp(5). This indicates that our data becomes noiser at higher price premiums. As such, we would next group these anomly points by brand, by color, and by region to get some further insights of our dataset.</p>

<ul>
  <li><strong>Step 3</strong> Explore anomaly points</li>
</ul>

<p><strong>Style</strong> The top three styles that saw extreme resale prices are Air Jordan, Presto, and Blazer. Note that these are all Nike sneakers. Among them, Air Jordan saw the highest price premium of over 2000%. Yeezy sneakers followed at the fourth place.</p>

<p><strong>Color</strong> White is the dominating color feature. There are two hypothesis on why its resale prices are high:</p>

<ol>
  <li>Most sneakers are white;</li>
  <li>White is indeed a significant feature.</li>
</ol>

<p>To test our hypothesis, we will further examine which specific sneakers contributed the most.</p>

<p><strong>Region</strong> California and New York overall saw the highest price premium. However, this doesnâ€™t mean these two states have the highest per capita premium. Stay around for further analysis in per capital level.</p>

<p><img src="/assets/images/ano_brand.png" width="230" /> <img src="/assets/images/ano_color.png" width="230" /> <img src="/assets/images/ano_region.png" width="230" /></p>

<h3 id="time-feature">Time Feature</h3>

<p><img src="/assets/images/allregion.png" width="330" /> <img src="/assets/images/allstyle.png" width="360" /></p>

<ul>
  <li><strong>Time Effect on Top 3 Nike brands</strong></li>
</ul>

<p><img src="/assets/images/allnike.png" width="340" /> <img src="/assets/images/timeaj.png" width="340" /> <img src="/assets/images/timepresto.png" width="340" /> <img src="/assets/images/timezoom.png" width="340" /></p>

<ul>
  <li><strong>Time effect on Yeezy</strong></li>
</ul>

<p><img src="/assets/images/timeyeezy.png" alt="timeyeezy" /></p>

<p>Statistically, the best time to sell in the secondary market is 3 to 5 weeks before the release date. The worst time to sell is the first 9 weeks after release, when the market is saturated. After that, as the availability in market declines, buyers are generally willing to pay higher premiums.</p>

<h3 id="color-feature">Color Feature</h3>

<p>Our dataset consists of two major brands â€“ yeezy and nike off-white. In terms of yeezy, we could see that basic colors including black, white, and grey have constant growth. Bolder colors like orange would start high but decline as time passes. In terms of off-white, red is the most popular color.</p>

<h3 id="region-feature">Region Feature</h3>

<p>Looking at the number of sales, California ranks the first and Oregon ranks the third. However, when we look at the percentage of population that purchases from StockX, Oregon comes to the top with nearly 2 transactions per 1000 people. Hence, StockX might want to make more promotions in Oregon, but keep in mind that as a reseller, we cannot control the sales region.</p>

<p><img src="/assets/images/edaregion.png" alt="edaregion" /></p>

<h2 id="modeling">Modeling</h2>

<h3 id="feature-engineering">Feature Engineering</h3>

<p>To recapture the features in our datasets, the target variable is the price premium, calculated as the percentage change of sale price over retail price, and input features are days since release, brand, region, colorway and number of sales, adding up to 31 variables.</p>

<h3 id="model-selection">Model Selection</h3>

<p>In our project, we tried two types of machine learning models, linear and tree-based regressions. We carefully accessed the performance of each model using 5-fold cross validation:</p>

<ol>
  <li>we used the same train-test split and the same seed for cross validation</li>
  <li>we used the GridSearchCV package to implement all models</li>
  <li>we used R2 as our evaluation metric</li>
</ol>

<ul>
  <li><strong>Linear Model - Lasso</strong></li>
</ul>

<p>According to our Exploratory Data Analysis, certain styles and colors (i.e. white) have over emphasizing power. In consideration of outliers and overfitting issues, we utilized the Lasso model to ensure regularization.</p>

<script type="math/tex; mode=display">\sum_{i=1}^{n}\left(y_{i}-\widehat{y}_{i}\right)^{2} + \lambda \quad \times \sum_{i}^{p}\left|\beta_{j}\right|</script>

<p>To choose the optimal shrinkage parameter, we used cross validation. The optimal shrinkage coefficient is $10^{-6}$</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">lasso</span> <span class="o">=</span> <span class="n">Lasso</span><span class="p">()</span>
  <span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span><span class="s">'alpha'</span><span class="p">:</span> <span class="p">[</span><span class="mf">1e-5</span><span class="p">,</span><span class="mf">1e-4</span><span class="p">,</span><span class="mf">1e-3</span><span class="p">,</span><span class="mf">1e-2</span><span class="p">,</span><span class="mf">1e-1</span><span class="p">,</span><span class="mf">1e0</span><span class="p">,</span><span class="mf">1e1</span><span class="p">,</span><span class="mf">1e2</span><span class="p">,</span><span class="mf">1e3</span><span class="p">,</span><span class="mf">1e4</span><span class="p">,</span><span class="mf">1e5</span><span class="p">]}</span>
  <span class="n">r2</span> <span class="o">=</span> <span class="n">make_scorer</span><span class="p">(</span><span class="n">r2_score</span><span class="p">,</span> <span class="n">greater_is_better</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
  <span class="n">clf</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">lasso</span><span class="p">,</span> 
                     <span class="n">parameters</span><span class="p">,</span> 
                     <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                     <span class="n">scoring</span><span class="o">=</span><span class="n">r2</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>
    <p><strong>Linear Model - SVM</strong></p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span><span class="o">.</span><span class="n">train</span> <span class="o">=</span> <span class="n">preprocessing</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">x_train</span><span class="p">)</span>
<span class="n">linearsvr</span> <span class="o">=</span> <span class="n">LinearSVR</span><span class="p">(</span><span class="n">tol</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
<span class="n">parameters</span> <span class="o">=</span> <span class="p">{</span><span class="s">'C'</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">]}</span> 
<span class="n">r2</span> <span class="o">=</span> <span class="n">make_scorer</span><span class="p">(</span><span class="n">r2_score</span><span class="p">,</span> <span class="n">greater_is_better</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">linearsvr</span><span class="p">,</span> 
                   <span class="n">parameters</span><span class="p">,</span> 
                   <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> 
                   <span class="n">scoring</span><span class="o">=</span><span class="n">r2</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><strong>Tree-based - XGBoost</strong></p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'colsample_bytree'</span><span class="p">:</span> <span class="p">[</span><span class="n">i</span><span class="o">/</span><span class="mf">10.</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="p">)],</span>
          <span class="s">'subsample'</span><span class="p">:</span> <span class="p">[</span><span class="n">i</span><span class="o">/</span><span class="mf">10.</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="p">)],</span>
          <span class="s">'eta'</span><span class="p">:</span> <span class="p">[</span><span class="mf">.3</span><span class="p">,</span> <span class="mf">.4</span><span class="p">,</span> <span class="mf">.5</span><span class="p">],</span>
          <span class="s">'max_depth'</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">)),</span>
          <span class="s">'min_child_weight'</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">)),</span>
          <span class="s">'eval_metric'</span><span class="p">:</span> <span class="p">[</span><span class="s">'rmse'</span><span class="p">],</span>
          <span class="s">'objective'</span><span class="p">:</span> <span class="p">[</span><span class="s">'reg:squarederror'</span><span class="p">]}</span>
<span class="n">xg_reg</span> <span class="o">=</span> <span class="n">xgb</span><span class="o">.</span><span class="n">XGBRegressor</span><span class="p">()</span>
<span class="n">r2</span> <span class="o">=</span> <span class="n">make_scorer</span><span class="p">(</span><span class="n">r2_score</span><span class="p">,</span> <span class="n">greater_is_better</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">xg_reg</span><span class="p">,</span> 
                   <span class="n">params</span><span class="p">,</span> 
                   <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> 
                   <span class="n">scoring</span><span class="o">=</span><span class="n">r2</span><span class="p">)</span>
</code></pre></div>    </div>

    <p><img src="/assets/images/xgboost_featureSig.png" /></p>

    <p><img src="/assets/images/xgboost_tree.png" /></p>
  </li>
</ul>

<h4 id="model-summary">Model Summary</h4>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Model</th>
      <th style="text-align: center">r2 score</th>
      <th>MSE</th>
      <th>Features</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><span style="color:blue"><strong>Lasso</strong> </span></td>
      <td style="text-align: center"><span style="color:blue"><strong>0.7810</strong></span></td>
      <td><span style="color:blue"><strong>0.51</strong></span></td>
      <td><span style="color:blue"><strong><code class="highlighter-rouge">Days_Since_Release</code>:(+); <code class="highlighter-rouge">yeezy</code>: (-) <code class="highlighter-rouge">airjordan</code> :(+)</strong></span></td>
    </tr>
    <tr>
      <td style="text-align: center">SVM</td>
      <td style="text-align: center">0.7508</td>
      <td>0.39</td>
      <td>/</td>
    </tr>
    <tr>
      <td style="text-align: center">XGBoost</td>
      <td style="text-align: center">0.9671</td>
      <td>0.04</td>
      <td><code class="highlighter-rouge">Days_Since_Release</code>; <code class="highlighter-rouge">size_freq</code>; <code class="highlighter-rouge">Number_of_Sales</code></td>
    </tr>
  </tbody>
</table>

<p>According to our modeling results, XGBoost has the highest R2. However, the XGBoost model is considered overfitted given that we have 31 features but less than 100,000 data points. The other two models, Lasso and SVM, are comparable in terms of predictive power. Further, the lasso model is more intrepretable as it allows us to easily examine constant effect of a predictor variables on price premiums. As such, taking both predictive power and model interpretability into account, we decided to proceed with the lasso model. Below is a summary of our fitted lasso model.</p>

<p><img src="/assets/images/featureSig.png" alt="featureSig" /></p>

<p>The Lasso coefficients are as above. Orange blocks represents negative coefficients, and blues represents positive coefficients. In terms of styles, AirJordan is the most lucrative, with an additional price premium of 324%. In terms of colors, red and tan will boost price premium, while blue seems to hurt resale prices. Further, as the number of sales increase, the price premium will go down. This could be explained by the value of scarcity.</p>

<h2 id="prediction-result">Prediction Result</h2>

<p>According to our prediction model, sneakers of certain styles (i.e. AirJordan 1 and blazer) and of certain colors (i.e.red and tan) are the most investable. Based on this knowledge, we tried to find some undervalued sneakers, which we can invest in now  and sell higher later. We listed some proposed candidates below.</p>

<p>The first pair listed is Air Jordan 1 by Travis Scott, released in May, 2019. If you are a sneakerhead, you probably already know that this is a popular pair. The question is, given the current resale price, could the price go up even higher. The answer is YES! This pair is selling at 500% markup as of early April, while our model predicts that the markup should have been 800%. As such, there is an arbitrage opportunity here, which would turn into a profit of over $500 on a single pair. The other candidates would follow similarly.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Sneaker(predicted on 03/26/2020)</th>
      <th style="text-align: left">Feature</th>
      <th style="text-align: center">Image</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><a href="https://stockx.com/air-jordan-1-retro-high-travis-scott">Air Jordan 1 Retro High Travis Scott</a></td>
      <td style="text-align: left"><font size="2"> **Feature:** air-jordan(3.24)<br /> Tan/Brown(1.83) <br />**Current Price Premium: 497.4%** <br />**Predicted Price Premium: 802.0%**</font></td>
      <td style="text-align: center"><img src="https://stockx-360.imgix.net/Air-Jordan-1-Retro-High-Travis-Scott/Images/Air-Jordan-1-Retro-High-Travis-Scott/Lv2/img01.jpg?auto=format,compress&amp;w=559&amp;q=90&amp;dpr=2&amp;updated_at=1550180948" width="200" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://stockx.com/nike-blazer-mid-77-vintage-white-black">Blazer Mid 77 Vintage Slam Jam</a></td>
      <td style="text-align: left"><font size="2">**Features: **blazer(0.58), White(0.71)<br />**Current Price Premium: 381.0%**<br />**Predicted Price Premium: 455.5%**</font></td>
      <td style="text-align: center"><img src="https://stockx-360.imgix.net/Nike-Blazer-Mid-77-Vintage-Slam-Jam/Images/Nike-Blazer-Mid-77-Vintage-Slam-Jam/Lv2/img01.jpg?auto=format,compress&amp;w=559&amp;q=90&amp;dpr=2&amp;updated_at=1554253378" width="200" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><a href="https://stockx.com/adidas-yeezy-boost-350-v2-tail-light">Yeezy Boost 350 V2 Tail Light</a></td>
      <td style="text-align: left"><font size="2">**Features:** blazer(0.58), White(0.71)<br />**Current Price Premium: 381.0%**<br />**Predicted Price Premium: 455.5%**</font></td>
      <td style="text-align: center"><img src="https://stockx-360.imgix.net/adidas-Yeezy-Boost-350-V2-Tail-Light/Images/adidas-Yeezy-Boost-350-V2-Tail-Light/Lv2/img36.jpg?auto=format,compress&amp;w=559&amp;q=90&amp;dpr=2&amp;updated_at=1584757351" width="200" /></td>
    </tr>
  </tbody>
</table>

<h2 id="limitation">Limitation</h2>

<p><strong>1. Time Limitation</strong> The data we utilized only cover sales from 2017 to 2019. Due to the changing tendency of the sneaker resale market, the modelâ€™s predictive power might be less stable in far futures.</p>

<p><strong>2. Brand Limitation</strong> Since our data only covers two major brands â€“ Yeezy and Nike Off-White, it might not be appropriate to generalize our predictive model to other brands of sneakers.</p>

<h2 id="further-improvement">Further Improvement</h2>

<ol>
  <li>Time Series consideration,</li>
  <li>DNN Model</li>
</ol>

<h2 id="contributer">Contributer</h2>

  </div><a class="u-url" href="/jekyll/update/2020/04/08/StockX-Predictive-Modeling.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Your awesome title</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Your awesome title</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
